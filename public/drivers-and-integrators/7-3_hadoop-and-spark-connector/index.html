<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.48" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Hadoop and Spark Connector :: GridDB</title>

    
    <link href="/css/nucleus.css?1537204267" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1537204267" rel="stylesheet">
    <link href="/css/hybrid.css?1537204267" rel="stylesheet">
    <link href="/css/featherlight.min.css?1537204267" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1537204267" rel="stylesheet">
    <link href="/css/auto-complete.css?1537204267" rel="stylesheet">
    <link href="/css/theme.css?1537204267" rel="stylesheet">
	<link href="/css/hugo-theme.css?1537204267" rel="stylesheet">
	<link href="/css/style-griddb.css?1537204267" rel="stylesheet">
    
      <link href="/css/theme-griddb.css?1537204267" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1537204267"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<header id="header2"> 
        
        
    <div class="header-inner">
        
        <div id="collapse-button" style="display: none;">
        <span></span>
        <span></span>
        <span></span>
        </div>


            <span id="sidebar-toggle-span" style="padding-left:15px;">
                <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                  <i class="fas fa-bars"></i> Navigation
                </a>
            </span>



   
       
    
    
    <nav id="nav" class="main-navigation" role="navigation" style="">
    <div class="menu-topnav-container"><ul id="menu-topnav" class="nav-menu"><li id="menu-item-581" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-581"><a href="https://griddb.net/en/docs/documents/1-1_what-is-griddb.php">Docs</a></li>
    <li id="menu-item-681" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-681"><a href="https://griddb.net/en/faq/">FAQ</a></li>
    <li id="menu-item-671" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-671"><a href="https://griddb.net/en/community/">Community</a></li>
    <li id="menu-item-591" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-591"><a href="https://griddb.net/en/forums/forum/top/">Forum</a></li>
    <li id="menu-item-291" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291"><a href="https://griddb.net/en/blog">Blog</a></li>

    </ul>

    </div>
        
        <li style="list-style:none"><a href="https://griddb.net/en/downloads/"> <span class="download-button4" style="display:none"> DOWNLOAD</span></a></li>
        
            
           <a href="https://griddb.net/en/downloads/"> <span id="download-button"> Download</span></a>
      
        
    </nav>
    
         
    </div>        
        
    </header>
    
    
  </head>
  <body class="" data-url="/drivers-and-integrators/7-3_hadoop-and-spark-connector/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
          <img src="/images/logo.png"></img>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1537204267"></script>
<script type="text/javascript" src="/js/auto-complete.js?1537204267"></script>
<script type="text/javascript">
    
        var baseurl = '\/';
    
</script>
<script type="text/javascript" src="/js/search.js?1537204267"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/introduction/">
          <b>1. </b>Introduction
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/introduction/1-1_what-is-griddb/" title="What is GridDB" class="dd-item ">
        <a href="/introduction/1-1_what-is-griddb/">
        What is GridDB
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction/1-2_griddb-edition/" title="GridDB Editions" class="dd-item ">
        <a href="/introduction/1-2_griddb-edition/">
        GridDB Editions
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/getting-started/" title="Getting Started" class="dd-item 
        
        
        
        ">
      <a href="/getting-started/">
          <b>2. </b>Getting Started
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-1_system-requirements/" title="System Requirements" class="dd-item ">
        <a href="/getting-started/2-1_system-requirements/">
        System Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-2_installation/" title="Installation" class="dd-item ">
        <a href="/getting-started/2-2_installation/">
        Installation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-3_run-your-first-griddb-node-cluster/" title="Run your First GridDB Node/Cluster" class="dd-item ">
        <a href="/getting-started/2-3_run-your-first-griddb-node-cluster/">
        Run your First GridDB Node/Cluster
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-4_run-a-sample-java-client-app/" title="Run a Sample Java Client App" class="dd-item ">
        <a href="/getting-started/2-4_run-a-sample-java-client-app/">
        Run a Sample Java Client App
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/technical-architecture-and-guide/" title="Technical Architecture and Guide" class="dd-item 
        
        
        
        ">
      <a href="/technical-architecture-and-guide/">
          <b>3. </b>Technical Architecture and Guide
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-1_griddb-technical-overview/" title="GridDB Technical Overview" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-1_griddb-technical-overview/">
        GridDB Technical Overview
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-2_key-container-model/" title="Key Container Model" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-2_key-container-model/">
        Key Container Model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-3_tql/" title="TQL" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-3_tql/">
        TQL
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-4_crud-operations/" title="CRUD Operations" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-4_crud-operations/">
        CRUD Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-5_transactions-and-acid/" title="Transactions and ACID" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-5_transactions-and-acid/">
        Transactions and ACID
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-6_indexes/" title="Indexes" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-6_indexes/">
        Indexes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-7_storage-architecture/" title="Storage Architecture" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-7_storage-architecture/">
        Storage Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-8_replication-distribution/" title="Replication &amp; Distribution" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-8_replication-distribution/">
        Replication &amp; Distribution
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-9_sharding/" title="Sharding" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-9_sharding/">
        Sharding
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/data-modeling/" title="Data Modeling" class="dd-item 
        
        
        
        ">
      <a href="/data-modeling/">
          <b>4. </b>Data Modeling
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-1_data-modeling-basics/" title="Data Modeling Basics" class="dd-item ">
        <a href="/data-modeling/4-1_data-modeling-basics/">
        Data Modeling Basics
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-2_data-modeling-using-griddb/" title="Data Modeling Using GridDB" class="dd-item ">
        <a href="/data-modeling/4-2_data-modeling-using-griddb/">
        Data Modeling Using GridDB
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-3_modeling-relationships/" title="" class="dd-item ">
        <a href="/data-modeling/4-3_modeling-relationships/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-4_possibilities-and-variations-of-data-models-in-griddb/" title="" class="dd-item ">
        <a href="/data-modeling/4-4_possibilities-and-variations-of-data-models-in-griddb/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/sample-applications/" title="Sample Application" class="dd-item 
        
        
        
        ">
      <a href="/sample-applications/">
          <b>5. </b>Sample Application
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/sample-applications/basics/" title="Basics" class="dd-item 
        
        
        
        ">
      <a href="/sample-applications/basics/">
          <b>5.1 </b>Basics
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-10_collection-delete/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-10_collection-delete/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-11_collection-modify/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-11_collection-modify/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-12_timeseries-register/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-12_timeseries-register/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-13_timeseries-retrieve/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-13_timeseries-retrieve/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-14_timeseries-delete/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-14_timeseries-delete/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-15_timeseries-modify/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-15_timeseries-modify/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-16_tql/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-16_tql/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-17_trigger-rest/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-17_trigger-rest/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-18_trigger-jms/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-18_trigger-jms/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-19_multiput/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-19_multiput/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-1_introduction/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-1_introduction/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-20_multiquery/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-20_multiquery/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-21_multiget/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-21_multiget/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-2_griddb-basics/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-2_griddb-basics/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-3_prepare-server/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-3_prepare-server/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-4_prepare-client/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-4_prepare-client/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-5_connection/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-5_connection/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-6_container-schema/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-6_container-schema/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-7_container-create-drop/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-7_container-create-drop/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-8_collection-register/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-8_collection-register/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-9_collection-retrieve/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-9_collection-retrieve/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/administration/" title="Administration" class="dd-item 
        
        
        
        ">
      <a href="/administration/">
          <b>6. </b>Administration
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/administration/6-1_supported-os-platforms-and-system-requirements/" title="Supported OS, Platforms and System Requirements" class="dd-item ">
        <a href="/administration/6-1_supported-os-platforms-and-system-requirements/">
        Supported OS, Platforms and System Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-2_sizing-and-scaling/" title="Sizing and Scaling" class="dd-item ">
        <a href="/administration/6-2_sizing-and-scaling/">
        Sizing and Scaling
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-3_installing/" title="Installing" class="dd-item ">
        <a href="/administration/6-3_installing/">
        Installing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-4_upgrading-the-editions/" title="Upgrading Editions" class="dd-item ">
        <a href="/administration/6-4_upgrading-the-editions/">
        Upgrading Editions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-5_migration-from-other-databases/" title="Migration from Other Databases" class="dd-item ">
        <a href="/administration/6-5_migration-from-other-databases/">
        Migration from Other Databases
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-6_cluster-administration-operations/" title="Cluster Administration &amp; Operations" class="dd-item ">
        <a href="/administration/6-6_cluster-administration-operations/">
        Cluster Administration &amp; Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-7_monitoring-troubleshooting/" title="Monitoring &amp; Troubleshooting" class="dd-item ">
        <a href="/administration/6-7_monitoring-troubleshooting/">
        Monitoring &amp; Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-8_tuning/" title="Tuning" class="dd-item ">
        <a href="/administration/6-8_tuning/">
        Tuning
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/drivers-and-integrators/" title="Drivers &amp; Integrators" class="dd-item 
        parent
        
        
        ">
      <a href="/drivers-and-integrators/">
          <b>7. </b>Drivers &amp; Integrators
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-1_jdbc-connector/" title="JDBC Connector" class="dd-item ">
        <a href="/drivers-and-integrators/7-1_jdbc-connector/">
        JDBC Connector
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-2_odbc-connector/" title="ODBC Connector" class="dd-item ">
        <a href="/drivers-and-integrators/7-2_odbc-connector/">
        ODBC Connector
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-3_hadoop-and-spark-connector/" title="Hadoop and Spark Connector" class="dd-item active">
        <a href="/drivers-and-integrators/7-3_hadoop-and-spark-connector/">
        Hadoop and Spark Connector
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-4_grafana-connector/" title="" class="dd-item ">
        <a href="/drivers-and-integrators/7-4_grafana-connector/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>GridDB</a> > <a href='/drivers-and-integrators/'>Drivers & Integrators</a> > Hadoop and Spark Connector
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#overview">Overview</a>
<ul>
<li><a href="#operating-environment">Operating Environment</a></li>
</ul></li>
<li><a href="#quickstart">QuickStart</a>
<ul>
<li><a href="#preparations">Preparations</a></li>
<li><a href="#build">Build</a></li>
<li><a href="#running-the-sample-program">Running The Sample Program</a></li>
</ul></li>
</ul></li>
<li><a href="#spark-connector">Spark Connector</a></li>
<li><a href="#installation">Installation</a>
<ul>
<li><a href="#build-the-connector-an-example">Build The Connector + An Example</a></li>
</ul></li>
<li><a href="#queries">Queries</a>
<ul>
<li>
<ul>
<li><a href="#command-line-query">Command Line Query</a></li>
<li><a href="#ts-query">TS Query</a></li>
</ul></li>
<li><a href="#license">License</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Hadoop and Spark Connector</h1>
          

        




<h3 id="overview">Overview</h3>

<p>The Hadoop MapReduce GridDB connector is a Java library for using GridDB as an input source and output destination for Hadoop MapReduce jobs. This library allows the GridDB performance to be used directly by MapReduce jobs through in-memory processing.</p>

<h4 id="operating-environment">Operating Environment</h4>

<p>Building of the library and execution of the sample programs are checked in the environment below.</p>

<p>OS:         CentOS6.7(x64)
Java:       JDK 1.8.0_60
Maven:      apache-maven-3.3.9
Hadoop:     CDH5.7.1(YARN)</p>

<h3 id="quickstart">QuickStart</h3>

<h4 id="preparations">Preparations</h4>

<p>Build a GridDB Java client and place the created gridstore.jar under the lib directory.</p>

<h4 id="build">Build</h4>

<p>Run the mvn command like the following: $ mvn package and create the following jar files.</p>

<p>gs-hadoop-mapreduce-client/target/gs-hadoop-maprduce-client-1.0.0.jar
gs-hadoop-mapreduce-examples/target/gs-hadoop-maprduce-examples-1.0.0.jar</p>

<h4 id="running-the-sample-program">Running The Sample Program</h4>

<p>An operating example to run the WordCount program using GridDB is shown below. GridDB and Hadoop (HDFS and YARN) need to be started in advance. Run the following in an environment in which these and hadoop commands can be used.</p>

<p>$ cd gs-hadoop-mapreduce-examples
$ ./exec-example.sh <br />
&gt; &ndash;job wordcount <br />
&gt; &ndash;define notificationAddress= <br />
&gt; &ndash;define notificationPort= <br />
&gt; &ndash;define clusterName= <br />
&gt; &ndash;define user= <br />
&gt; &ndash;define password= <br />
&gt; pom.xml 2&gt; /dev/null | sort -r</p>

<p>5        5
   3        org.apache.hadoop
   3        com.toshiba.mwcloud.gs.hadoop
&hellip;</p>

<p>The first number is the number of occurrences while the right side is a word in the file (pom.xml) specified as a processing target. See gs-hadoop-mapreduce-examples/README.md for details about the sample programs.</p>

<h2 id="spark-connector">Spark Connector</h2>

<p>The Spark Connector can be downloaded from our <a href="/en/downloads/">downloads page</a>.</p>

<p>Full list of dependencies:</p>

<ul>
<li><strong>OS:</strong> CentOS6.7(x64)</li>
<li><strong>Maven:</strong> apache-maven-3.3.9</li>
<li><strong>Java:</strong> JDK 1.8.0_101</li>
<li><strong>Apache Hadoop:</strong> Version 2.6.5</li>
<li><strong>Apache Spark:</strong> Version 2.1.0</li>
<li><strong>Scala:</strong> Version 2.11.8</li>
<li><strong>GridDB server and Java client:</strong> 3.0 CE</li>
<li><strong>GridDB connector for Apache Hadoop MapReduce:</strong> 1.0</li>
</ul>

<p>If beginning from scratch, I recommend ensuring all of these items are installed and configured. This tutorial also assumes that your Hadoop, Spark, and Connector are all installed in the <code>[INSTALL_FOLDER]</code> directory (I used <code>/opt</code>).</p>

<h2 id="installation">Installation</h2>

<p>Once verified, please proceed with the steps outlined below:</p>

<p>We start this process off with adding the following environment variables to <code>.bashrc</code></p>

<p>$ nano ~/.bashrc</p>

<p>export JAVA_HOME=/usr/lib/jvm/[JDK folder]
 export HADOOP_HOME=[INSTALL_FOLDER]/hadoop-2.6.5
 export SPARK_HOME=[INSTALL_FOLDER]/spark-2.1.0-bin-hadoop2.6
 export GRIDDB_SPARK=[INSTALL_FOLDER]/griddb_spark
 export GRIDDB_SPARK_PROPERTIES=$GRIDDB_SPARK/gd-config.xml</p>

<p>export PATH=$HADOOP_HOME/sbin:$HADOOP_HOME/bin:$SPARK_HOME/bin:$PATH</p>

<p>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native
 export HADOOP_OPTS=&ldquo;$HADOOP_OPTS -Djava.library.path=$HADOOP_HOME/lib/native&rdquo;</p>

<p>$ source ~/.bashrc</p>

<p>Once those are added, modify the <code>gd-config.xml</code> file.</p>

<p>$ cd $GRIDDB_SPARK
$ nano gd-config.xml</p>

<p>&lt;!-- GridDB properties &ndash;&gt;
 <property>
     <name>gs.user </name>
     <value>[GridDB user] </value>
 </property>
 <property>
     <name>gs.password </name>
     <value>[GridDB password] </value>
 </property>
 <property>
     <name>gs.cluster.name </name>
     <value>[GridDB cluster name] </value>
 </property>
  &lt;!-- Define address and port for multicast method, leave it blank if using other method &ndash;&gt;
 <property>
     <name>gs.notification.address </name>
     <value>[GridDB notification address(default is 239.0.0.1)] </value>
 </property>
 <property>
     <name>gs.notification.port </name>
     <value>[GridDB notification port(default is 31999)] </value>
 </property></p>

<h3 id="build-the-connector-an-example">Build The Connector + An Example</h3>

<p>Next up, refer to this <a href="https://github.com/griddb/griddb_spark/blob/master/Configuration.md">configuration</a> page for a quick definition of each of the GridDB properties.</p>

<p>To build a GridDB Java client and a GridDB connector for Hadoop MapReduce, place the following files under the <code>$GRIDDB_SPARK/gs-spark-datasource/lib</code> directory.</p>

<p>gridstore.jar
gs-hadoop-mapreduce-client-1.0.0.jar</p>

<p>(Note: these <code>.jar</code> files should have been created when you built your GridDB client and the GridDB Mapreduce Connector. You can find <code>gridstore.jar</code> in <code>/usr/griddb-X.X.X/bin</code>, for example)</p>

<p>Once that&rsquo;s complete, add the SPARK_CLASSPATH to &ldquo;spark-env.sh&rdquo;</p>

<p>$ cd $SPARK_HOME
$ nano conf/spark-env.sh</p>

<p>SPARK_CLASSPATH=.:$GRIDDB_SPARK/gs-spark-datasource/target/gs-spark-datasource.jar:$GRIDDB_SPARK/gs-spark-datasource/lib/gridstore.jar:$GRIDDB_SPARK/gs-spark-datasource/lib/gs-hadoop-mapreduce-client-1.0.0.jar</p>

<p>Now that we&rsquo;ve got the prerequisites out of the way, we can continue on to build the connector and an example to ensure everything is working properly.</p>

<p>To begin, we will need to edit our <code>Init.java</code> file to add the correct authentication credientials.</p>

<p>$ cd $SPARK_HOME/gs-spark-datasource-example/src/
$ nano Init.java</p>

<p>And add in your credentials:</p>

<p>Properties props = new Properties();
props.setProperty(&ldquo;notificationAddress&rdquo;, &ldquo;239.0.0.1&rdquo;);
props.setProperty(&ldquo;notificationPort&rdquo;, &ldquo;31999&rdquo;);
props.setProperty(&ldquo;clusterName&rdquo;, &ldquo;Spark-Cluster&rdquo;);
props.setProperty(&ldquo;user&rdquo;, &ldquo;admin&rdquo;);
props.setProperty(&ldquo;password&rdquo;, &ldquo;hunter2&rdquo;);
GridStore store = GridStoreFactory.getInstance().getGridStore(props);</p>

<p>And now we can run the mvn command like so:</p>

<p>$ cd $GRIDDB_SPARK
$ mvn package</p>

<p>which will create the following <code>.jar</code> files:</p>

<p>gs-spark-datasource/target/gs-spark-datasource.jar
gs-spark-datasource-example/target/example.jar</p>

<p>Now proceed with running the example program. First start your GridDB cluster. And then:</p>

<p>Put some data into the server with the GridDB Java client</p>

<p>$ cd $GRIDDB_SPARK
$ java -cp ./gs-spark-datasource-example/target/example.jar:gs-spark-datasource/lib/gridstore.jar Init</p>

<h2 id="queries">Queries</h2>

<p>Now you can run queries with your GridDB connector for Spark:</p>

<p>$ spark-submit &ndash;class Query ./gs-spark-datasource-example/target/example.jar</p>

<p>We will go over some brief examples of Apache Spark&rsquo;s API. Examples are pulled from the <a href="https://spark.apache.org/examples.html">official page</a>.</p>

<p>Spark&rsquo;s defining feature is its RDD (Resilient Distributed Datasets) and the accompanying API. RDDs are immutable data structures that can be run in parallel on commodity hardware &ndash; essentially it is exactly what allows Spark to run its queries in parallel and outperform MapReduce. Here&rsquo;s a very basic example; it will showcase how to build an RDD of the numbers 1 - 5</p>

<p>List data = Arrays.asList(1, 2, 3, 4, 5);
JavaRDD distData = sc.parallelize(data);</p>

<p>With this, you can now run that small array in parallel. Pretty cool, huh?</p>

<h4 id="command-line-query">Command Line Query</h4>

<p>A &ldquo;must-run&rdquo; query in the Big Data scene is running a word count, so here&rsquo;s what it looks like on Spark. For this example, let&rsquo;s try using the shell (example taken from: <a href="https://www.dezyre.com/apache-spark-tutorial/spark-tutorial">here</a>). To run this, please be sure you place a text file <code>input.txt</code> into your <code>$GRIDDB_SPARK</code> directory. Fill it with whatever text you like; I used the opening chapter of <em>Moby Dick</em> . Now fire up the spark shell:</p>

<p>$ spark-shell</p>

<p><a href="https://griddb.net/en/wp-content/uploads/2017/08/Screenshot_7.png"><img src="https://griddb.net/en/wp-content/uploads/2017/08/Screenshot_7.png" alt="" /></a></p>

<p>scala&gt; val inputfile = sc.textFile (&ldquo;input.txt&rdquo;)
inputfile: org.apache.spark.rdd.RDD[String] = input.txt MapPartitionsRDD[1] at textFile at :24</p>

<p>scala&gt; val counts = inputfile.flatMap (line =&gt; line.split (&rdquo; &ldquo; )).map (word =&gt; (word, 1)).reduceByKey(<em>+</em>)
counts: org.apache.spark.rdd.RDD[(String, Int)] = ShuffledRDD[4] at reduceByKey at :26</p>

<p>scala&gt; counts.saveAsTextFile (&ldquo;output&rdquo;)</p>

<p>And now if you head back into <code>$GRIDDB_SPARK</code>, you should find the <code>output</code> dir. Now just run a simple <code>cat</code> on the file in there to retrieve the word count results of your text file.</p>

<p>$ cd $GRIDDB_SPARK
$ cd output
$ cat part-00000
(Ah!,1)
(Let,1)
(dreamiest,,1)
(dotings,1)
(cooled,1)
(spar,1)
(previous,2)
(street,,1)
(old,6)
(left,,1)
(order,2)
(told,1)
(marvellous,,1)
(Now,,1)
(virtue,1)
(Take,1)</p>

<h4 id="ts-query">TS Query</h4>

<p>Of course, Spark is also capable of handling much more complex queries. Because GridDB ideally deals mostly in TimeSeries (TS) data, how about we take a look into a TS query? Here&rsquo;s a sample query taken from <a href="http://sryza.github.io/spark-timeseries/0.3.0/docs/users.html">here</a>:</p>

<p>val tsRdd: TimeSeriesRDD = &hellip;</p>

<p>// Find a sub-slice between two dates
val zone = ZoneId.systemDefault()
val subslice = tsRdd.slice(
  ZonedDateTime.of(LocalDateTime.parse(&ldquo;2015-04-10T00:00:00&rdquo;), zone)
  ZonedDateTime.of(LocalDateTime.parse(&ldquo;2015-04-14T00:00:00&rdquo;), zone))</p>

<p>// Fill in missing values based on linear interpolation
val filled = subslice.fill(&ldquo;linear&rdquo;)</p>

<p>// Use an AR(1) model to remove serial correlations
val residuals = filled.mapSeries(series =&gt; ar(series, 1).removeTimeDependentEffects(series))</p>

<h3 id="license">License</h3>

<p>The Hadoop MapReduce GridDB connector source license is Apache License, version 2.0.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/drivers-and-integrators/7-2_odbc-connector/" title="ODBC Connector"> <i class="fas fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/drivers-and-integrators/7-4_grafana-connector/" title="" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1537204267"></script>
    <script src="/js/perfect-scrollbar.min.js?1537204267"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1537204267"></script>
    <script src="/js/jquery.sticky.js?1537204267"></script>
    <script src="/js/featherlight.min.js?1537204267"></script>
    <script src="/js/html5shiv-printshiv.min.js?1537204267"></script>
    <script src="/js/highlight.pack.js?1537204267"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1537204267"></script>
    <script src="/js/learn.js?1537204267"></script>
    <script src="/js/hugo-learn.js?1537204267"></script>

    <link href="/mermaid/mermaid.css?1537204267" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1537204267"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script src="/js/newitemstoggle.js?1537204267"></script>

  </body>
</html>

