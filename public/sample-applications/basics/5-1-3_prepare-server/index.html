<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.48" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <title> :: GridDB</title>

    
    <link href="/css/nucleus.css?1537204268" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1537204268" rel="stylesheet">
    <link href="/css/hybrid.css?1537204268" rel="stylesheet">
    <link href="/css/featherlight.min.css?1537204268" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1537204268" rel="stylesheet">
    <link href="/css/auto-complete.css?1537204268" rel="stylesheet">
    <link href="/css/theme.css?1537204268" rel="stylesheet">
	<link href="/css/hugo-theme.css?1537204268" rel="stylesheet">
	<link href="/css/style-griddb.css?1537204268" rel="stylesheet">
    
      <link href="/css/theme-griddb.css?1537204268" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1537204268"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<header id="header2"> 
        
        
    <div class="header-inner">
        
        <div id="collapse-button" style="display: none;">
        <span></span>
        <span></span>
        <span></span>
        </div>


            <span id="sidebar-toggle-span" style="padding-left:15px;">
                <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                  <i class="fas fa-bars"></i> Navigation
                </a>
            </span>



   
       
    
    
    <nav id="nav" class="main-navigation" role="navigation" style="">
    <div class="menu-topnav-container"><ul id="menu-topnav" class="nav-menu"><li id="menu-item-581" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-581"><a href="https://griddb.net/en/docs/documents/1-1_what-is-griddb.php">Docs</a></li>
    <li id="menu-item-681" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-681"><a href="https://griddb.net/en/faq/">FAQ</a></li>
    <li id="menu-item-671" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-671"><a href="https://griddb.net/en/community/">Community</a></li>
    <li id="menu-item-591" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-591"><a href="https://griddb.net/en/forums/forum/top/">Forum</a></li>
    <li id="menu-item-291" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291"><a href="https://griddb.net/en/blog">Blog</a></li>

    </ul>

    </div>
        
        <li style="list-style:none"><a href="https://griddb.net/en/downloads/"> <span class="download-button4" style="display:none"> DOWNLOAD</span></a></li>
        
            
           <a href="https://griddb.net/en/downloads/"> <span id="download-button"> Download</span></a>
      
        
    </nav>
    
         
    </div>        
        
    </header>
    
    
  </head>
  <body class="" data-url="/sample-applications/basics/5-1-3_prepare-server/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
          <img src="/images/logo.png"></img>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1537204268"></script>
<script type="text/javascript" src="/js/auto-complete.js?1537204268"></script>
<script type="text/javascript">
    
        var baseurl = '\/';
    
</script>
<script type="text/javascript" src="/js/search.js?1537204268"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/introduction/">
          <b>1. </b>Introduction
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/introduction/1-1_what-is-griddb/" title="What is GridDB" class="dd-item ">
        <a href="/introduction/1-1_what-is-griddb/">
        What is GridDB
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/introduction/1-2_griddb-edition/" title="GridDB Editions" class="dd-item ">
        <a href="/introduction/1-2_griddb-edition/">
        GridDB Editions
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/getting-started/" title="Getting Started" class="dd-item 
        
        
        
        ">
      <a href="/getting-started/">
          <b>2. </b>Getting Started
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-1_system-requirements/" title="System Requirements" class="dd-item ">
        <a href="/getting-started/2-1_system-requirements/">
        System Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-2_installation/" title="Installation" class="dd-item ">
        <a href="/getting-started/2-2_installation/">
        Installation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-3_run-your-first-griddb-node-cluster/" title="Run your First GridDB Node/Cluster" class="dd-item ">
        <a href="/getting-started/2-3_run-your-first-griddb-node-cluster/">
        Run your First GridDB Node/Cluster
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/2-4_run-a-sample-java-client-app/" title="Run a Sample Java Client App" class="dd-item ">
        <a href="/getting-started/2-4_run-a-sample-java-client-app/">
        Run a Sample Java Client App
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/technical-architecture-and-guide/" title="Technical Architecture and Guide" class="dd-item 
        
        
        
        ">
      <a href="/technical-architecture-and-guide/">
          <b>3. </b>Technical Architecture and Guide
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-1_griddb-technical-overview/" title="GridDB Technical Overview" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-1_griddb-technical-overview/">
        GridDB Technical Overview
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-2_key-container-model/" title="Key Container Model" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-2_key-container-model/">
        Key Container Model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-3_tql/" title="TQL" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-3_tql/">
        TQL
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-4_crud-operations/" title="CRUD Operations" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-4_crud-operations/">
        CRUD Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-5_transactions-and-acid/" title="Transactions and ACID" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-5_transactions-and-acid/">
        Transactions and ACID
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-6_indexes/" title="Indexes" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-6_indexes/">
        Indexes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-7_storage-architecture/" title="Storage Architecture" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-7_storage-architecture/">
        Storage Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-8_replication-distribution/" title="Replication &amp; Distribution" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-8_replication-distribution/">
        Replication &amp; Distribution
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/technical-architecture-and-guide/3-9_sharding/" title="Sharding" class="dd-item ">
        <a href="/technical-architecture-and-guide/3-9_sharding/">
        Sharding
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/data-modeling/" title="Data Modeling" class="dd-item 
        
        
        
        ">
      <a href="/data-modeling/">
          <b>4. </b>Data Modeling
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-1_data-modeling-basics/" title="Data Modeling Basics" class="dd-item ">
        <a href="/data-modeling/4-1_data-modeling-basics/">
        Data Modeling Basics
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-2_data-modeling-using-griddb/" title="Data Modeling Using GridDB" class="dd-item ">
        <a href="/data-modeling/4-2_data-modeling-using-griddb/">
        Data Modeling Using GridDB
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-3_modeling-relationships/" title="" class="dd-item ">
        <a href="/data-modeling/4-3_modeling-relationships/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/data-modeling/4-4_possibilities-and-variations-of-data-models-in-griddb/" title="" class="dd-item ">
        <a href="/data-modeling/4-4_possibilities-and-variations-of-data-models-in-griddb/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/sample-applications/" title="Sample Application" class="dd-item 
        parent
        
        
        ">
      <a href="/sample-applications/">
          <b>5. </b>Sample Application
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/sample-applications/basics/" title="Basics" class="dd-item 
        parent
        
        
        ">
      <a href="/sample-applications/basics/">
          <b>5.1 </b>Basics
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-10_collection-delete/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-10_collection-delete/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-11_collection-modify/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-11_collection-modify/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-12_timeseries-register/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-12_timeseries-register/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-13_timeseries-retrieve/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-13_timeseries-retrieve/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-14_timeseries-delete/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-14_timeseries-delete/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-15_timeseries-modify/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-15_timeseries-modify/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-16_tql/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-16_tql/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-17_trigger-rest/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-17_trigger-rest/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-18_trigger-jms/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-18_trigger-jms/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-19_multiput/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-19_multiput/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-1_introduction/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-1_introduction/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-20_multiquery/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-20_multiquery/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-21_multiget/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-21_multiget/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-2_griddb-basics/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-2_griddb-basics/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-3_prepare-server/" title="" class="dd-item active">
        <a href="/sample-applications/basics/5-1-3_prepare-server/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-4_prepare-client/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-4_prepare-client/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-5_connection/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-5_connection/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-6_container-schema/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-6_container-schema/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-7_container-create-drop/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-7_container-create-drop/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-8_collection-register/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-8_collection-register/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/sample-applications/basics/5-1-9_collection-retrieve/" title="" class="dd-item ">
        <a href="/sample-applications/basics/5-1-9_collection-retrieve/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/administration/" title="Administration" class="dd-item 
        
        
        
        ">
      <a href="/administration/">
          <b>6. </b>Administration
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/administration/6-1_supported-os-platforms-and-system-requirements/" title="Supported OS, Platforms and System Requirements" class="dd-item ">
        <a href="/administration/6-1_supported-os-platforms-and-system-requirements/">
        Supported OS, Platforms and System Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-2_sizing-and-scaling/" title="Sizing and Scaling" class="dd-item ">
        <a href="/administration/6-2_sizing-and-scaling/">
        Sizing and Scaling
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-3_installing/" title="Installing" class="dd-item ">
        <a href="/administration/6-3_installing/">
        Installing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-4_upgrading-the-editions/" title="Upgrading Editions" class="dd-item ">
        <a href="/administration/6-4_upgrading-the-editions/">
        Upgrading Editions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-5_migration-from-other-databases/" title="Migration from Other Databases" class="dd-item ">
        <a href="/administration/6-5_migration-from-other-databases/">
        Migration from Other Databases
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-6_cluster-administration-operations/" title="Cluster Administration &amp; Operations" class="dd-item ">
        <a href="/administration/6-6_cluster-administration-operations/">
        Cluster Administration &amp; Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-7_monitoring-troubleshooting/" title="Monitoring &amp; Troubleshooting" class="dd-item ">
        <a href="/administration/6-7_monitoring-troubleshooting/">
        Monitoring &amp; Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/administration/6-8_tuning/" title="Tuning" class="dd-item ">
        <a href="/administration/6-8_tuning/">
        Tuning
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/drivers-and-integrators/" title="Drivers &amp; Integrators" class="dd-item 
        
        
        
        ">
      <a href="/drivers-and-integrators/">
          <b>7. </b>Drivers &amp; Integrators
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-1_jdbc-connector/" title="JDBC Connector" class="dd-item ">
        <a href="/drivers-and-integrators/7-1_jdbc-connector/">
        JDBC Connector
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-2_odbc-connector/" title="ODBC Connector" class="dd-item ">
        <a href="/drivers-and-integrators/7-2_odbc-connector/">
        ODBC Connector
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-3_hadoop-and-spark-connector/" title="Hadoop and Spark Connector" class="dd-item ">
        <a href="/drivers-and-integrators/7-3_hadoop-and-spark-connector/">
        Hadoop and Spark Connector
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/drivers-and-integrators/7-4_grafana-connector/" title="" class="dd-item ">
        <a href="/drivers-and-integrators/7-4_grafana-connector/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>GridDB</a> > <a href='/sample-applications/'>Sample Application</a> > <a href='/sample-applications/basics/'>Basics</a> > 
          
         
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li><a href="#5-1-3-preparation-environment-server">5.1.3 Preparation: Environment (server)</a>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#components">Components</a></li>
<li><a href="#install-docker">Install Docker</a></li>
<li><a href="#create-the-docker-container">Create the Docker container</a></li>
<li><a href="#install-gridddb-in-docker-container">Install GriddDB in Docker container.</a></li>
<li><a href="#dockerfile">Dockerfile</a></li>
<li><a href="#install-docker-compose">Install Docker Compose</a></li>
<li><a href="#files">Files</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1></h1>
          

        




<p>Table of Contents</p>

<h1 id="5-1-3-preparation-environment-server">5.1.3 Preparation: Environment (server)</h1>

<h2 id="overview">Overview</h2>

<p>This chapter covers setting up a GridDB server to use while running the sample application.</p>

<h2 id="components">Components</h2>

<p>The environment will be configured as follows:</p>

<p><strong>Figure 1 block diagram</strong></p>

<p><img src="img/machine_daiagram.png" alt="Figure 1 block diagram" /></p>

<p><strong>Table 2 middleware version</strong></p>

<p>middleware</p>

<p>version</p>

<p>GridDB Community Edition</p>

<p>2.8.0</p>

<p>Docker</p>

<p>1.12.0</p>

<p>Docker Compose</p>

<p>1.8.0</p>

<p>The environment in which you run GridDB will be built in a container using <a href="https://www.docker.com">Docker</a> but you can apply the same concepts to other VMs or a native OS to suit your environment. We will install Docker to the host machine&rsquo;s OS (Centos 7), then manually build a single node GridDB server and then a two node GridDB cluster using docker-compose.</p>

<h2 id="install-docker">Install Docker</h2>

<p>Install Docker:</p>

<p><strong>List.1 Docker installation of</strong></p>

<p>$ sudo curl -fsSL <a href="https://get.docker.com/">https://get.docker.com/</a> | sh
$ sudo usermod -aG docker vagrant
$ sudo systemctl enable docker
$ sudo systemctl start docker</p>

<ul>
<li>L.1: Download and run the Docker installation script.</li>
<li>L.2: Create a user who runs Docker.</li>
<li>L.3: Enable boot time start up of Docker.</li>
<li>L.4: Start Docker.

<br /></li>
</ul>

<h2 id="create-the-docker-container">Create the Docker container</h2>

<p>These steps create the container where you&rsquo;ll run GridDB:</p>

<p><strong>List.2 Docker container creation</strong></p>

<p>$ sudo docker pull centos: 6.7
$ sudo docker network create &ndash;subnet=192.168.11.0/24 griddb_default
$ sudo docker run -it &ndash;name gsnode1 -h gsnode1 &ndash;net=griddb_default &ndash;ip=192.168.11.11 -d centos: 6.7</p>

<ul>
<li>L.1: Download the CentOS image.</li>
<li>L.2: Create a network for the container to run GridDB.</li>
<li>L.3: Create a container from the CentOS image. This will use the network settings from the previously created network.

<br /></li>
</ul>

<h2 id="install-gridddb-in-docker-container">Install GriddDB in Docker container.</h2>

<p>With the Docker container configured , you can install and configure GridDB.</p>

<p><strong>List.3 container login</strong></p>

<p>$ sudo docker exec -it griddb_griddb1_1 bash</p>

<p>Line 1: Run a shell on the GridDB container and log in.</p>

<p><strong>List.4 network settings</strong></p>

<p># hostname -i
192.168.11.11
# cat /etc/sysconfig/network
NETWORKING=yes
HOSTNAME=localhost.localdomain
# vi /etc/sysconfig/network
HOSTNAME= <strong>192.168.11.11</strong> (to change to 192.168.11.11)</p>

<ul>
<li>L.1-2: Make sure the IP address has been set for the hostname.</li>
<li>L.6-7: Set the IP address in the HOSTNAME of/etc/sysconfig/network.<br />
<br /></li>
</ul>

<p><strong>List.5 GridDB installation</strong></p>

<p># curl -L -O <a href="https://github.com/griddb/griddb_nosql/releases/download/v2.8.0/griddb_nosql-2.8.0-1.el6.x86_64.rpm">https://github.com/griddb/griddb_nosql/releases/download/v2.8.0/griddb_nosql-2.8.0-1.el6.x86_64.rpm</a>
# rpm -Uvh griddb_nosql-2.8.0-1.el6.x86_64.rpm</p>

<ul>
<li>L.1: Fetch the GridDB RPM file from Github/</li>
<li>L.2: Install the RPM.</li>
</ul>

<p>Then perform the initial configuration of GridDB.</p>

<p><strong>List.6 gs_cluster.json</strong></p>

<p># cat /var/lib/gridstore/conf/gs_cluster.json
(Snip)
&ldquo;Cluster&rdquo;: {
&ldquo;ClusterName&rdquo;: &ldquo;&rdquo;,
(Snip)
&ldquo;LoadbalanceCheckInterval&rdquo;: &ldquo;180s&rdquo;
(Snip)
# vi /var/lib/gridstore/conf/gs_cluster.json
(Snip)
&ldquo;Cluster&rdquo;: {
&ldquo;ClusterName&rdquo;: &ldquo; <strong>GSCLUSTER</strong> &ldquo;, (to set the cluster name clusterName)
(Snip)
&ldquo;LoadbalanceCheckInterval&rdquo;: &ldquo;180s&rdquo;,
&ldquo;NotificationMember&rdquo;: [
{
&ldquo;cluster&rdquo;: { &ldquo;address&rdquo;: &ldquo;192.168.11.11&rdquo;, &ldquo;port&rdquo;: 10010},
&ldquo;cync&rdquo;: { &ldquo;address&rdquo;: &ldquo;192.168.11.11&rdquo;, &ldquo;port&rdquo;: 10020},
&ldquo;system&rdquo;: { &ldquo;address&rdquo;: &ldquo;192.168.11.11&rdquo;, &ldquo;port&rdquo;: 10040},
&ldquo;sransaction&rdquo;: { &ldquo;address&rdquo;: &ldquo;192.168.11.11&rdquo;, &ldquo;port&rdquo;: 10001},
&ldquo;sql&rdquo;: { &ldquo;address&rdquo;: &ldquo;192.168.11.11&rdquo;, &ldquo;port&rdquo;: 20001}
}
]
(Snip)</p>

<ul>
<li>L.4: The initial clusterName will be empty(&ldquo;&rdquo;) and GridDB will fail to start.</li>
<li>L.9: Set clusterName to <strong>GSCLUSTER</strong>. This setting will be used by applications to connect later.</li>
<li>L.14-22: Contains address and port information using GridDB&rsquo;s fixed list format. If you want to configure a cluster of multiple nodes, all nodes information must be listed here.

<br /></li>
</ul>

<p><strong>List.7 Set default user password</strong></p>

<p># su - gsadm
$ gs_passwd admin
Password: ** admin ** (enter the password)
Retype password: ** admin ** (and then re-enter the password)</p>

<ul>
<li>L.1: Internal GridDB commands need to be run as the gsadm user.</li>
<li>L.2 to 4: Sets the admin user&rsquo;s password, which is the default user on GridDB.<br />
<strong>(Note) This admin user is not a user of the OS.</strong> The GridDB user name and password will be required for the sample application to connect later.</li>
</ul>

<p>Now GridDB can be started.</p>

<p><strong>List.8 Start GridDB</strong></p>

<p># su - gsadm
$ gs_startnode -u ** admin/admin ** -w 0
&hellip;&hellip;.
It started node.
$ gs_joincluster -c ** GSCLUSTER ** -u ** admin/admin ** -w 0
.
Joined node</p>

<ul>
<li>L.2: Start the GridDB service. Wait until the start-up in the <code>-w 0</code> option. You will need to specify the user name and password with the -u flag, such as -u /.</li>
<li>L.5: Either join or create a cluster. Specify the cluster name with the -c option that was set in Listing 6.</li>
</ul>

<p>Setting of one of GridDB node is now complete.</p>

<h2 id="dockerfile">Dockerfile</h2>

<p>The Dockerfile contains all the previous work and is able to perform the above configuration steps automatically. It is useful for creating many nodes.</p>

<p><strong>List 9 Dockerfile</strong></p>

<p>FROM centos: 6.7</p>

<p>RUN set -x &amp;&amp;<br />
HOST=`hostname` &amp;&amp;<br />
sed -i &ldquo;s/^ \ (HOSTNAME=\). */\ 1 $ HOST /&ldquo;/etc/sysconfig/network &amp;&amp;<br />
curl -L -O <a href="https://github.com/griddb/griddb_nosql/releases/download/v2.8.0/griddb_nosql-2.8.0-1.el6.x86_64.rpm">https://github.com/griddb/griddb_nosql/releases/download/v2.8.0/griddb_nosql-2.8.0-1.el6.x86_64.rpm</a> &amp;&amp;<br />
rpm -Uvh griddb_nosql-2.8.0-1.el6.x86_64.rpm</p>

<p>ARG CLUSTER_CONF
RUN echo $CLUSTER_CONF
ADD $CLUSTER_CONF /var/lib/gridstore/conf/</p>

<p>RUN set -x &amp;&amp;<br />
chown gsadm: gridstore/var/lib/gridstore/conf/$ CLUSTER_CONF &amp;&amp;<br />
chmod 640/var/lib/gridstore/conf/$ CLUSTER_CONF &amp;&amp;<br />
su - gsadm -c &ldquo;gs_passwd admin -p admin&rdquo;</p>

<p>CMD su - gsadm -c <br />
&ldquo;gs_startnode -u admin/admin -w 0 &amp;&amp;gs_joincluster -c GSCLUSTER -n 2 -u admin/admin&rdquo; &amp;&amp;<br />
tail -f/dev/null</p>

<p>It summarizes the settings that were set manually in the above.</p>

<ul>
<li>L.9: Allows the gs_cluster.conf input to be specified for use with docker-compose.yml</li>
<li>L.19: Too build a cluster of multiple nodes, the <code>gs_joincluster</code> command needs the <code>-n</code> that specifies the number of nodes.

<br /></li>
</ul>

<h2 id="install-docker-compose">Install Docker Compose</h2>

<p>If you create more than one similar Docker container, it is worth while to use <a href="https://docs.docker.com/compose/">Docker Compose</a> which can automatically create and boot multiple containers.</p>

<p><strong>List.10 Install Docker Compose</strong></p>

<p>$ curl -L <a href="https://github.com/docker/compose/releases/download/1.8.0/docker-compose-`uname">https://github.com/docker/compose/releases/download/1.8.0/docker-compose-`uname</a> -s`-`uname -m` -O
$ chmod + x docker-compose-*
$ sudo mv docker-compose-* /usr/local/bin/docker-compose</p>

<ul>
<li>L.1: Get the Docker Compose for your system binary from Github.</li>
<li>L.2: Grant executable permissions to the binary.</li>
<li>L.3: Move the binary to /usr/local/bin, renaming it docker-compose</li>
</ul>

<p>The following is the contents of Docker Compose&rsquo;s configuration file, docker-compose.yml:</p>

<p><strong>List.11 Docker Compose configuration file</strong></p>

<p>version: &lsquo;2&rsquo;
services:
    griddb1:
        build:
            context .
            args:
                CLUSTER_CONF: &ldquo;gs_cluster.json&rdquo;
        container_name: gsnode1
        networks:
            default:
                ipv4_address: 192.168.11.11
        ports:
            - &ldquo;10001:10001&rdquo;
            - &ldquo;20001:20001&rdquo;
        expose:
            - &ldquo;10010&rdquo;
            - &ldquo;10020&rdquo;
            - &ldquo;10040&rdquo;
            - &ldquo;10001&rdquo;
            - &ldquo;20001&rdquo;
    griddb2:
        build:
            context .
            args:
                CLUSTER_CONF: &ldquo;gs_cluster.json&rdquo;
        container_name: gsnode2
        networks:
            default:
                ipv4_address: 192.168.11.12
        ports:
            - &ldquo;12001:10001&rdquo;
            - &ldquo;22001:20001&rdquo;
        expose:
            - &ldquo;10010&rdquo;
            - &ldquo;10020&rdquo;
            - &ldquo;10040&rdquo;
            - &ldquo;10001&rdquo;
            - &ldquo;20001&rdquo;</p>

<p>networks:
    default:
        ipam:
            config:
                - subnet: 192.168.11.0/24</p>

<p>In the Docker compose file, you have to specify the parameters of the container that had been specified. It also specifies the respective configuration files which need to represent configured values.</p>

<p>The files that will be used in the Docker Compose are placed in a directory as follows:</p>

<p><strong>List.12 Docker Compose configuration file configuration</strong></p>

<p>griddb /
 - Docker-compose.yml
 - Dockerfile
 - gs_cluster_1.json
 - gs_cluster_2.json</p>

<p>From that directory, run the commands that will create the Container, installer GridDB, and then start the container.</p>

<p><strong>List.13 Docker Compose configuration file placement</strong></p>

<p>$ cd griddb
$ sudo /usr/local/bin/docker-compose up -d
$ sudo /usr/local/bin/docker-compose ps
 Name Command State Ports
-------------------------------------------------- -------------------------------------------------- --------------------------------------
gsnode1/bin/sh -c su - gsadm -c &ldquo;&hellip; Up 127.0.0.1:10001-&gt;10001/tcp, 10010/tcp, 10020/tcp, 10040/tcp, 127.0.0.1:20001-&gt;20001/tcp
gsnode2/bin/sh -c su - gsadm -c &ldquo;&hellip; Up 0.0.0.0:12001-&gt;10001/tcp, 10010/tcp, 10020/tcp, 10040/tcp, 0.0.0.0:22001-&gt;20001/tcp</p>

<ul>
<li>L.1: Change directory to where the above configuration files were created.</li>
<li>L.2: In accordance with the docker-compose command in the configuration file, if Docker container has not yet been created then create and start a container. If the container has already been created, it will only be started.</li>
<li>L.3 to 7: it displays the status of the container that was started in the docker-compose.

<br /></li>
</ul>

<h2 id="files">Files</h2>

<p>The set of files used in this chapter can be downloaded from: <a href="img/griddb-server-conf.zip">griddb-server-conf.zip</a></p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/sample-applications/basics/5-1-2_griddb-basics/" title=""> <i class="fas fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/sample-applications/basics/5-1-4_prepare-client/" title="" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1537204268"></script>
    <script src="/js/perfect-scrollbar.min.js?1537204268"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1537204268"></script>
    <script src="/js/jquery.sticky.js?1537204268"></script>
    <script src="/js/featherlight.min.js?1537204268"></script>
    <script src="/js/html5shiv-printshiv.min.js?1537204268"></script>
    <script src="/js/highlight.pack.js?1537204268"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1537204268"></script>
    <script src="/js/learn.js?1537204268"></script>
    <script src="/js/hugo-learn.js?1537204268"></script>

    <link href="/mermaid/mermaid.css?1537204268" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1537204268"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script src="/js/newitemstoggle.js?1537204268"></script>

  </body>
</html>

